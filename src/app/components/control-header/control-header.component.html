<header class="controls">
	<div class="left-controls">
		<div class="button-group">
			<button
				type="button"
				mat-raised-button
				color="primary"
				class="roll-button"
				[disabled]="state.isLoading() || !state.hasChampions()"
				(click)="onRoll()"
			>
				<mat-icon aria-hidden="true">casino</mat-icon>
				<span>{{ 'control.roll' | translate }}</span>
			</button>
			<button
				type="button"
				mat-raised-button
				color="accent"
				class="copy-button"
				[disabled]="!state.canCopyDraft()"
				(click)="onCopyDraft()"
			>
				<mat-icon aria-hidden="true">content_copy</mat-icon>
				<span>{{ 'control.copy' | translate }}</span>
			</button>
			@if (state.fearlessDraftEnabled()) {
				<button
					type="button"
					mat-raised-button
					color="warn"
					class="reset-button"
					[disabled]="state.isLoading() || !state.hasChampions()"
					(click)="onReset()"
				>
					<mat-icon aria-hidden="true">restart_alt</mat-icon>
					<span>{{ 'control.reset' | translate }}</span>
				</button>
			}
			<button
				type="button"
				mat-stroked-button
				color="primary"
				class="settings-button"
				(click)="openSettings()"
			>
				<mat-icon aria-hidden="true">settings</mat-icon>
				<span>{{ 'control.settings' | translate }}</span>
			</button>
		</div>

		<div class="hint mat-body-small">
			<mat-icon aria-hidden="true" class="iconFlex">info</mat-icon>
			<span style="height: 24px; display: flex; align-items: center">
				{{ 'control.hint' | translate }}
			</span>
		</div>
	</div>
	<div style="position: relative">
		<mat-progress-spinner class="" mode="determinate" [value]="state.rerollPercentage()" />
		<span class="centered-text">{{ state.reRollBank() }}</span>
	</div>
	@if (state.isLoading()) {
		<div class="status mat-body-small" aria-live="polite">
			<mat-icon aria-hidden="true">autorenew</mat-icon>
			<span>{{ 'control.loading' | translate }}</span>
		</div>
	} @else if (state.loadError(); as errorMessage) {
		<div class="status error mat-body-small" aria-live="polite">
			<mat-icon aria-hidden="true" color="warn">error</mat-icon>
			<span>{{ errorMessage }}</span>
			<button type="button" mat-button color="accent" (click)="onRetry()">
				<mat-icon aria-hidden="true">refresh</mat-icon>
				<span>{{ 'control.retry' | translate }}</span>
			</button>
		</div>
	}
</header>
